function jshowGrid(e,t,s){function a(e,t){return trim($("#"+t+"-span-id-"+e).html())}function n(e,t){console.log(e);var s="";for(val1 in e)txt=e[val1].val,val=e[val1].id,s+='<option value="'+val+'" '+(t==val?"selected='selected'":"")+" >"+txt+"</option>\n";return s}function r(e,t,s,i,a,n,r){canSave=!1,ur=a+"command="+e+"&field="+t+"&value="+encodeURIComponent(i)+"&id="+s+"&table="+r+"&",grid[r].alertGrid&&alert(ur),gArgs[r].beforeEdit&&""!=gArgs[r].beforeEdit&&(beforeEditFn=gArgs[r].beforeEdit,beforeEditFn(r,ur)),$("#"+n).after('<img class="'+r+'-status" src="../assets/img/stat.gif" alt="Loading . . ."/>'),$.get(ur,function(e){$("."+r+"-status").remove();trim(String(e));e=trim(String(e)),tmp=n.split("-"),3==e.split(",").length&&(r=e.split(",")[2],gArgs[r].pageCount=e.split(",")[1],e=e.split(",")[0]),gArgs[r].afterEdit&&""!=gArgs[r].afterEdit&&(afterEditFn=gArgs[r].afterEdit,e=afterEditFn(r,e));var t=e.split("|");e=t[0],"true"==e&&(3==tmp.length?$("#"+tmp[0]+"-span-"+tmp[1]+"-"+tmp[2]).html(i):$("#"+n).html("true"!=e&&3==tmp.length?$("#span-"+n).html():$("#span-"+n).html())),3==tmp.length&&($("#"+n).hide("slow"),$("."+gArgs[r].cssClass+"_spanValue").show("slow")),"true"==e?d("اصلاح با موفقیت انجام شد.","",r):d("اصلاح با موفقیت انجام نشد."+(t.length>1&&""!=t[1]?":<br/>"+t[1]:""),"",r)})}function l(e,t,s,i){grid[i].alertGrid&&alert(t+"command=delete&ids="+e+"&table="+i+"&"),gArgs[i].beforeDelete&&""!=gArgs[i].beforeDelete&&(beforeDeleteFn=gArgs[i].beforeDelete,beforeDeleteFn(i,t+"command=delete&ids="+e+"&table="+i+"&")),$("#deleteRow-"+i).after('<img class="'+i+'-status" src="../assets/img/stat.gif" alt="Loading . . ."/>'),$.get(t+"command=delete&ids="+e+"&table="+i+"&",function(e){if($("."+i+"-status").remove(),e=trim(String(e)),3==e.split(",").length&&(i=e.split(",")[2],gArgs[i].pageCount=e.split(",")[1],e=e.split(",")[0]),gArgs[i].afterDelete&&""!=gArgs[i].afterDelete&&(afterDeleteFn=gArgs[i].afterDelete,e=afterDeleteFn(i,e)),"true"==e.split("|")[0]){for(rowid in s)$("#row-"+i+"-"+s[rowid]).hide("slow");d("حذف با موفقیت انجام شد.","",i)}else d("خطا در حذف"+(e.split("|").length>1&&""!=e.split("|")[1]?":<br/>"+e.split("|")[1]:""),"",i)})}function d(e,t,s){var i=(grid[s],'<div class="darkDiv"></div>'),a=e.split("~");e=a[0],i+='<div style="color:#000000;" class="'+(""!=String(t)?String(t):gArgs[s].cssClass)+'_addDiv" id="add-'+s+'" >',i+=e,i+="</div>",$("#add-"+s).remove(),$("#"+contentDiv).prepend(i),setTimeout("killAlert('"+s+"')",a.length>1&&""!=a[1]&&!isNaN(parseInt(a[1],10))&&"undefined"!=typeof parseInt(a[1],10)?parseInt(a[1],10):1e3),$("#ok-"+s).click(function(){$("#add-"+s).fadeOut("slow",function(){$(".darkDiv").next().remove(),$(".darkDiv").remove()})}),$("#add-"+s).hide(),$("#add-"+s).fadeIn("slow",function(){canSave=!0,$(window).scroll(function(){}),$(".darkDiv").click(function(){$("#add-"+s).fadeOut("slow",function(){$(".darkDiv").next().remove(),$(".darkDiv").remove()})})})}this.gname=t,this.eRequest,this.gdata=e,this.gcolumn,this.grow,this.gcss,this.gtableProperty,this.gtypeDef,this.gajaxTarget=s,this.alertGrid,this.callBackFn={},this.scrollDown=!1,this.getGrid=function(e){var t,s,a,r,l='<div class="'+gcss+'">\n',d=0;l+="<table "+gtableProperty+" >\n",l+="<tr>\n",gArgs[e].canDelete&&(l+="<th style='width:30px;'>\n",l+="<input type='checkbox' id='select_all_checks-"+e+"' />\n",l+="</th>\n");for(colId in gcolumn)r=gcolumn[colId],r.name&&""!=r.name&&(l+='<th class = "'+r.css+'" >\n',l+=r.sort?'<span id="'+e+"-"+r.fieldname+'" class="'+("done"!=r.sort?"sortHeader":"sortedHeader")+'" >':"",l+=r.name,l+=r.sort?"</span>":"",l+="</th>\n",d++);l+="</tr>\n";for(i in grow){t=grow[i].cell,l+="<tr "+(String(grow[i].css).indexOf("#")>=0?'style="background:'+grow[i].css+';"':'class="'+grow[i].css+'"')+" id='row-"+e+"-"+i+"'>\n",gArgs[e].canDelete&&(l+="<td>\n",l+="<input type='checkbox' class='"+gArgs[e].cssClass+"_checkSelect' id='check-"+e+"-"+i+"' />\n",l+="</td>\n");for(s in t)(""!=gcolumn[s].name||"id"==gcolumn[s].fieldname)&&(tmpColumnList=gcolumn[s].clist?gcolumn[s].clist:null,a=t[s],a.css=""!=a.css?a.css:gcolumn[s].css,l+='<td class = "'+a.css+'" '+("id"==gcolumn[s].fieldname&&""==gcolumn[s].name?'style="display:none;"':"")+">\n",null==tmpColumnList?(l+='<span class="'+gArgs[e].cssClass+'_spanValue" id="'+e+"-span-"+gcolumn[s].fieldname+"-"+i+'">\n',l+=a.value,l+="</span>\n",gArgs[e].canEdit&&(gcolumn[s].access||(l+=a.typ&&gtypeDef[a.typ]?gtypeDef[a.typ]+' id="'+e+"-"+gcolumn[s].fieldname+"-"+i+'" name="'+e+"-"+gcolumn[s].fieldname+"-"+i+'" '+("blob"!=a.typ?'value="':">")+a.value+("blob"!=a.typ?'" >':"</textarea>\n"):'<input type="text" class="'+gArgs[e].cssClass+"_forField "+gArgs[e].cssClass+'_textField textValue" id="'+e+"-"+gcolumn[s].fieldname+"-"+i+'" name="'+e+"-"+gcolumn[s].fieldname+"-"+i+'" value="'+a.value+'" />'))):(selDis=!gArgs[e].canEdit||gcolumn[s].access?'disabled = "disabled"':"",l+="<select "+selDis+' class="'+gArgs[e].cssClass+'_selectValue" id="'+e+"-select-"+gcolumn[s].fieldname+"-"+i+'">\n',l+=n(tmpColumnList,a.value),l+="</select>\n"),l+="</td>\n");l+="</tr>\n"}if(gArgs[e].canDelete||parseInt(gArgs[e].pageCount)>1||gArgs[e].canAdd){if(l+="<tr>\n",l+="<td colspan='"+String(d+1)+"'>\n",l+=parseInt(grid[e].data.rows_count)>0?"تعداد : "+grid[e].data.rows_count:"",l+='<table class="'+gArgs[e].cssClass+'_bottomTable">\n',l+="<tr>\n",l+='<td align="right">\n',gArgs[e].canDelete?(l+="<button class='btn hs-btn-default' id='deleteRow-"+e+"'>\n",l+="حذف",l+="</button>\n"):l+="&nbsp;\n",l+="</td>\n",l+="<td align='center'>\n",parseInt(gArgs[e].pageCount)>1&&grid[e].row.length>0){l+="<button class='btn hs-btn-default' id='nextPage-"+e+"'>\n",l+="بعدی",l+="</button>\n";var o=gArgs[e].pageNumber;l+="<select class='"+gArgs[e].cssClass+"_pageNumberSelector' id='pageNumber-"+e+"'>\n";for(var g=0;g<gArgs[e].pageCount;g++)l+=parseInt(o)==g+1?"<option selected='selected' value='"+String(g+1)+"'>\n"+String(g+1)+"\n</option>\n":"<option value='"+String(g+1)+"'>\n"+String(g+1)+"\n</option>\n";l+="</select>\n",l+="<button class='btn hs-btn-default' id='prePage-"+e+"'>\n",l+="قبلی",l+="</button>\n"}else l+="&nbsp;\n";l+="</td>\n",l+='<td align="left">\n',gArgs[e].canAdd?(l+="<button class='btn hs-btn-default' id='addRow-"+e+"'>\n",l+="ثبت",l+="</button>\n"):l+="&nbsp;\n",l+="</td>\n",l+="</tr>\n",l+="</table>\n",l+="</td>\n",l+="</tr>\n"}return l+="</table>\n",l+="</div>\n"},this.createAddBox=function(e,t,s){e=grid[t].column;var a='<div class="darkDiv"></div>';a+='<div class="'+gArgs[t].cssClass+'_addDiv" id="add-'+t+'" ><table>';var r=1;for(i in e)""!=e[i].name&&(tmp=r%s,0==i&&(a+="<tr>"),tmpColumnList=e[i].clist?e[i].clist:null,null!=tmpColumnList||e[i].access?null==tmpColumnList||e[i].access||(a+='<td align="left" >'+e[i].name+':</td><td><select class="save_input-'+t+'" id="'+t+"-"+e[i].fieldname+"\" width='99%' name=\""+t+"-"+e[i].fieldname+'">\n',a+=n(tmpColumnList,""),a+="</select></td>\n",r++):(a+='<td align="left" >'+e[i].name+':</td><td><input type="text" class="save_input-'+t+" "+("timestamp"==e[i].typ?"dateValue":"")+'" id="'+t+"-"+e[i].fieldname+'" name="'+t+"-"+e[i].fieldname+'" placeholder="'+e[i].name.replace(/(<([^>]+)>)/gi,"")+' را وارد نمایید" ></td>',r++),0==tmp&&(a+="</tr><tr>"));return a+="</tr>",a+='<tr><td align="left" colspan="'+String(2*s)+'" ><button class="btn hs-btn-default" id="save-'+t+'" >ذخیره</button><button class="btn hs-btn-default" id="cancelSave-'+t+'" >انصراف</button></td></tr>',a+="</table></div>",a+="<script>$(document).ready(function(){",a+='$.each($(".dateValue"),function(id,field){',a+="if(field.id)",a+="Calendar.setup({",a+="inputField     :    field.id,",a+="button:    field.id,",a+='ifFormat       :    "%Y/%m/%d",',a+='dateType           :    "jalali",',a+="weekNumbers    : false",a+="})",a+=";}); });",a+="</script>"},this.saveData=function(e,t){gArgs[e].eRequest&&(ereq=$.param(gArgs[e].eRequest));var s=t+"command=insert&table="+e+"&"+ereq+"&";$.each($(".save_input-"+e),function(e,t){s+=t.name+"="+encodeURIComponent(t.value)+"&"}),init=this.init,grid[e].alertGrid&&alert(s),gArgs[e].beforeAdd&&""!=gArgs[e].beforeAdd&&(beforeAddFn=gArgs[e].beforeAdd,beforeAddFn(e,s)),$("#addRow-"+e).after('<img class="'+e+'-status" src="../assets/img/stat.gif" alt="Loading . . ."/>'),$.get(s,function(t){if(t=$.trim(t),$("."+e+"-status").remove(),2==t.split(",").length&&(gArgs.pageCount=t.split(",")[1],t=t.split(",")[0]),gArgs[e].afterAdd&&""!=gArgs[e].afterAdd&&(afterAddFn=gArgs[e].afterAdd,t=afterAddFn(e,t)),t){var s=t.split("|");t=s[0]}else var s=[0,""];init(gArgs[e]),gMsg[e]=parseInt(t,10)>0?"اطلاعات با موفقیت اضافه شد.":"خطا در ثبت."+(s.length>1&&""!=s[1]?":<br/>"+s[1]:"")})},this.searchGrid=function(e){ggname=this.gname;var t="";whereObj[ggname]={},$.each($("."+e),function(e,s){""!=trim($(s).val())&&$(s).is("input")?(t+=(""==t?" where ":" and ")+" (`"+$(s).prop("id")+"` like '|"+trim($(s).val())+"|') ",whereObj[ggname][$(s).prop("id")]=trim($(s).val())):"0"!=trim($(s).val())&&"-1"!=trim($(s).val())&&$(s).is("select")&&(t+=(""==t?" where ":" and ")+" (`"+$(s).prop("id")+"` = '"+trim($(s).val())+"') ",whereObj[ggname][$(s).prop("id")]=trim($(s).val()))}),whereClause[ggname]="",whereClause[ggname]=encodeURIComponent(t),gArgs[ggname].pageNumber=1,grid[ggname].init(gArgs[ggname])},this.createSearchBox=function(){t=this.gname;for(var e,s,i=this.column,a="<table ><tr>",n=!0,r=1,l=1;l<=i.length;l++)if(i[l-1].search){if(e='<input placeholder="'+i[l-1].name.replace(/(<([^>]+)>)/gi,"")+'" type="text" class="grid_search_'+t+'" id="',s='" />',"dateValue"==i[l-1].search)e='<input type="text" class="grid_search_'+t+' dateValue" id="';else if("list"==i[l-1].search){e='<select class="grid_search_'+t+'" id="',s='"><option value="-1">'+i[l-1].name+"</option>";var d=i[l-1].searchDetails;for(j in d)s+='<option value="'+j+'" >'+d[j]+"</option>";s+="</select>"}a+="<td>"+e+i[l-1].fieldname+s+"</td>",r++}return n="<table ><tr>"!=a,a+='<td><button class="btn hs-btn-default" onclick="grid[\''+t+"'].searchGrid('grid_search_"+t+"');\">جستجو</button>",a+="</td></tr>",n||(a=""),a},this.ready=function(e,t,s,i){canSave=!0,jQuery.fn.center=function(){var e=this.height(),t="dialog"==this.parent().parent().prop("id")?this.parent().parent().height():$(window).height(),s=this.width(),i="dialog"==this.parent().parent().prop("id")?this.parent().parent().width():$(window).width();return this.css("position","absolute"),this.css("top",$(window).scrollTop()+Math.max(0,(t-e)/2)+"px"),this.css("left",Math.max(0,(i-s)/2)+"px"),this},$.each($(".dateValue"),function(e,t){Calendar.setup({inputField:t.id,button:t.id,ifFormat:"%Y/%m/%d",dateType:"jalali",weekNumbers:!1})}),$(".sortHeader").click(function(){tgname=this.id.split("-")[0],tfieldName=this.id.split("-")[1],gArgs[tgname].sort||(gArgs[tgname].sort={}),gArgs[tgname].sort["sort-"+tfieldName]=tfieldName,grid[tgname].init(gArgs[tgname])}),$(".sortedHeader").click(function(){tgname=this.id.split("-")[0],tfieldName=this.id.split("-")[1],gArgs[tgname].sort["sort-"+tfieldName]&&delete gArgs[tgname].sort["sort-"+tfieldName],grid[tgname].init(gArgs[tgname])}),gArgs[t].disableRowColor?$("#"+s+" table tr").mouseover(function(){$(this).css("background-image","url(../media/system/images/rang.png)")}):($("#"+s+" table tr:even").css("background","#eeeeee"),$("#"+s+" table tr:odd").css("background","#dddbdb"),$("#"+s+" table tr").mouseover(function(){$(this).css("background-color","#f6e277")})),$("#"+s+" table tr:even").mouseout(function(){$(this).css("background-color","#eeeeee")}),$("#"+s+" table tr:odd").mouseout(function(){$(this).css("background-color","#dddbdb")}),$("."+gArgs[t].cssClass+"_forField").hide(),$("."+gArgs[t].cssClass+"_forField").blur(function(){$("."+gArgs[t].cssClass+"_forField").fadeOut("slow"),$("."+gArgs[t].cssClass+"_spanValue").fadeIn("slow")}),$(".intValue").bind("keypress",function(e){var e=window.event||e,t=e.charCode||e.keyCode;return t>=48&&57>=t||45==t?!0:!1}),gArgs[t].canEdit&&($.each($("."+gArgs[t].cssClass+"_spanValue"),function(s,i){var n=i.id.split("-")[2],l=-1;for(fin in grid[t].column)grid[t].column[fin].fieldname==n&&(l=fin);var d=!0;grid[t].column[l]&&grid[t].column[l].access&&(d=!1),d&&""!=trim(i.innerHTML)?($("#"+i.id).css("cursor","pointer"),$("#"+i.id).click(function(){var s=$("#"+i.id).parent().parent().prop("id").split("-");t=s[1];var n=i.id;$("#"+n).hide("fast");var l=n.split("-");$("#"+l[0]+"-"+l[2]+"-"+l[3]).show("fast",function(){l=this.id.split("-"),t=l[0],fieldId=a(l[2],t),$("#"+l[0]+"-"+l[1]+"-"+l[2]).focus(),$("#"+l[0]+"-"+l[1]+"-"+l[2]).bind("keypress",function(t){var s=t.keyCode?t.keyCode:t.which;l=this.id.split("-"),13==s&&canSave&&r("update",l[1],fieldId,this.value,e,l[0]+"-"+l[1]+"-"+l[2],l[0])})})})):""==trim(i.innerHTML)&&d&&($("#"+i.id).parent().css("cursor","pointer"),$("#"+i.id).parent().click(function(){var s=$("#"+i.id).parent().parent().prop("id").split("-");t=s[1];var n=i.id;$("#"+n).hide("fast");var l=n.split("-");$("#"+l[0]+"-"+l[2]+"-"+l[3]).show("fast",function(){l=this.id.split("-"),t=l[0],fieldId=a(l[2],t),$("#"+l[0]+"-"+l[1]+"-"+l[2]).focus(),$("#"+l[0]+"-"+l[1]+"-"+l[2]).bind("keypress",function(t){var s=t.keyCode?t.keyCode:t.which;l=this.id.split("-"),13==s&&canSave&&r("update",l[1],fieldId,this.value,e,l[0]+"-"+l[1]+"-"+l[2],l[0])})})}))}),$("."+gArgs[t].cssClass+"_selectValue").mousedown(function(){$(this).prop("old_value",this.value)}),$("."+gArgs[t].cssClass+"_selectValue").change(function(){var s=$(this).prop("old_value"),i=this.id.split("-"),n=this.value,l=this.id;if(confirm("آیا تغییر کند؟")){var d=this.id.split("-");t=d[0],fieldId=a(i[3],t),r("update",i[2],fieldId,n,e,l,t)}else $(this).val(s)})),co=gcolumn,saveData=this.saveData,$("#addRow-"+t).click(function(){var a=grid[t],n=a.createAddBox(co,t,i);$("#add-"+t).remove(),$("#"+s).prepend(n),$("#save-"+t).click(function(){grid[t].saveData(t,e,s,i)}),$("#cancelSave-"+t).click(function(){$("#add-"+t).fadeOut("slow",function(){$(".darkDiv").next().remove(),$(".darkDiv").remove()})}),$("#add-"+t).hide(),$("#add-"+t).fadeIn("slow",function(){$(window).scroll(function(){}),$(".darkDiv").click(function(){$("#add-"+t).fadeOut("slow",function(){$(".darkDiv").next().remove(),$(".darkDiv").remove()})})})}),$("#deleteRow-"+t).click(function(){if(confirm("آیا حذف شود؟")){var s="",i=[];$.each($("."+gArgs[t].cssClass+"_checkSelect"),function(e,n){var r=n.id.split("-");if(r[1]==t&&n.checked){i[i.length]=r[2];var l=a(r[2],t);s+=(""!=s?",":"")+l}}),""!=s?l(s,e,i,t):d("گزینه‌ای برای حذف وجود ندارد.")}}),$("#pageNumber-"+t).change(function(){gArgs[t].pageNumber=this.value,grid[t].init(gArgs[t])}),$("#nextPage-"+t).click(function(){parseInt(gArgs[t].pageNumber)+1<=parseInt(gArgs[t].pageCount)?gArgs[t].pageNumber++:gArgs[t].pageNumber=1,grid[t].init(gArgs[t])}),$("#prePage-"+t).click(function(){parseInt(gArgs[t].pageNumber)-1>=1?gArgs[t].pageNumber--:gArgs[t].pageNumber=parseInt(gArgs[t].pageCount),grid[t].init(gArgs[t])}),$("#select_all_checks-"+t).click(function(){$.each($("."+gArgs[t].cssClass+"_checkSelect"),function(e,s){var i=s.id.split("-");i[1]==t&&(s.checked=$("#select_all_checks-"+t).attr("checked")?!0:!1)})})},this.setResult=function(e){if(gdata=e,e.column){hcols=hiddenColumns[t];for(i in hcols)e.column[hcols[i]]&&(e.column[hcols[i]].name="")}gcolumn=e.column?e.column:[],grow=e.rows?e.rows:[],gcss=e.css?e.css:[],eRequest=e.eRequest?e.eRequest:[],gtableProperty=e.tableProperty?e.tableProperty:[],gtypeDef={varchar:'<input class="'+gArgs[t].cssClass+"_forField "+gArgs[t].cssClass+'_textField" type="text" ',"int":'<input type="text" class="'+gArgs[t].cssClass+"_forField "+gArgs[t].cssClass+'_textField intValue" ',timestamp:'<input type="text" class="'+gArgs[t].cssClass+"_forField "+gArgs[t].cssClass+'_textField dateValue" ',blob:'<textarea class="'+gArgs[t].cssClass+"_forField "+gArgs[t].cssClass+'_textField blobValue" cols="10" rows="10" '},alertGrid=e.alert?e.alert:!1,this.data=e,this.scrollDown=e.scrollDown,this.column=e.column?e.column:[],this.row=e.rows?e.rows:[],this.css=e.css?e.css:[],this.eRequest=e.eRequest?e.eRequest:[],this.tableProperty=e.tableProperty?e.tableProperty:[],this.typeDef={varchar:'<input class="'+gArgs[t].cssClass+"_forField "+gArgs[t].cssClass+'_textField" type="text" ',"int":'<input type="text" class="'+gArgs[t].cssClass+"_forField "+gArgs[t].cssClass+'_textField intValue" ',timestamp:'<input type="text" class="'+gArgs[t].cssClass+"_forField "+gArgs[t].cssClass+'_textField dateValue" ',blob:'<textarea class="'+gArgs[t].cssClass+"_forField "+gArgs[t].cssClass+'_textField blobValue" cols="10" rows="10" '},this.alertGrid=e.alert?e.alert:!1},this.init=function(e){s=e.targetFile,t=e.gname,pageNumber=e.pageNumber?e.pageNumber:1,setResult=this.setResult,getGrid=this.getGrid,gready=this.ready;var a="";e.eRequest&&""!=e.eRequest&&(a="&"+$.param(e.eRequest)+"&");var n="";e.sort&&""!=e.sort&&(n="&"+$.param(e.sort)+"&"),e.alert&&e.alert===!0&&alert(s+"pageNumber="+pageNumber+"&table="+t+"&werc="+whereClause[t]+a+n),contentDiv=e.contentDiv,$("#"+contentDiv).html("<img src='../assets/img/stat.gif' />"),e.beforeLoad&&""!=e.beforeLoad&&(beforeLoadFn=e.beforeLoad,beforeLoadFn(t,gArgs[t])),$.getJSON(s+"pageNumber="+pageNumber+"&table="+t+"&werc="+whereClause[t]+a+n,function(a){e=gArgs[t],contentDiv=e.contentDiv,s=e.targetFile;var n;setResult(a),grid[t].setResult(a),gArgs[t].pageCount=a.pageCount?a.pageCount:gArgs[t].pageCount,grid[t].ajaxTarget=s,n=getGrid(t),$("#"+contentDiv).html(n),$("."+gArgs[t].cssClass+"_forField").hide(),$("#"+contentDiv).hide(),$("#"+contentDiv).fadeIn("slow",function(){grid[t].scrollDown&&$("html, body").animate({scrollTop:$(document).height()},1e3)}),grid[t].ready(s,t,contentDiv,addColCount),$("#searchDiv_"+t).remove();var r=grid[t].createSearchBox();""!=r&&$("#"+contentDiv).before('<div id="searchDiv_'+t+'">'+r+"</div>");var l=whereObj[t];for(i in l)$("#"+i).val(l[i]);$.each($(".dateValue"),function(e,t){Calendar.setup({inputField:t.id,button:t.id,ifFormat:"%Y/%m/%d",dateType:"jalali",weekNumbers:!1})}),gMsg[t]&&""!=gMsg[t]&&(d(gMsg[t],"",t),gMsg[t]=""),e.afterLoad&&""!=e.afterLoad&&(afterLoadFn=e.afterLoad,afterLoadFn(t,a))})}}function trim(e){return out=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),out}function killAlert(e){grid[e];$("#add-"+e).fadeOut("slow",function(){$(".darkDiv").next().remove(),$(".darkDiv").remove()})}function intialGrid(e){for(i in e){gArgs[i]=e[i],contentDiv=e[i].contentDiv,targetFile=e[i].targetFile,gname=e[i].gname,addColCount=e[i].addColCount,pageNumber=e[i].pageNumber,pageCount=e[i].pageCount;var t;grid[i]=new jshowGrid(t,gname,targetFile),whereClause[gname]=e[i].werc?e[i].werc:"",e[i].start&&grid[i].init(e[i])}}jQuery.fn.center=function(){var e=this.height(),t=this.parent().height(),s=this.width(),i=this.parent().width();return this.css("position","absolute"),this.css("top",Math.max(0,(t-e)/2)+"px"),this.css("left",Math.max(0,(i-s)/2)+"px"),this};var gArgs={},grid={},gMsg={},whereClause={},whereObj={},hiddenColumns={},canSend=!0;